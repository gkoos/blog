<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Matched Betting Arithmetics</title>
  <meta name="description" content="This post introduces the basic concepts of matched betting and the mathematics behind it.">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://gaborkoos.com">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Matched Betting Arithmetics">
  <meta property="og:description" content="This post introduces the basic concepts of matched betting and the mathematics behind it.">
  <meta property="og:image" content="https://opengraph.b-cdn.net/production/images/74740c4e-d40d-49be-83fb-7170084dbda1.png?token=3Pxj4Ccc7Z93zXgN6-HhJM8U3lpcnqtTs8xNIPoUzF4&height=614&width=620&expires=33290472379">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="gaborkoos.com">
  <meta property="twitter:url" content="https://gaborkoos.com">
  <meta name="twitter:title" content="Matched Betting Arithmetics">
  <meta name="twitter:description" content="This post introduces the basic concepts of matched betting and the mathematics behind it.">
  <meta name="twitter:image" content="https://opengraph.b-cdn.net/production/images/74740c4e-d40d-49be-83fb-7170084dbda1.png?token=3Pxj4Ccc7Z93zXgN6-HhJM8U3lpcnqtTs8xNIPoUzF4&height=614&width=620&expires=33290472379">

  <!-- Meta Tags Generated via https://www.opengraph.xyz -->

  
  
  


  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link rel="stylesheet" href="/assets/css/styles.css" />
  <link rel="stylesheet" href="/assets/css/vendor/prism-tomorrow.css" />
  <link rel="stylesheet" href="/assets/css/fix-inline-code.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-['Inter',system-ui,sans-serif] antialiased leading-relaxed">
  <!-- Header/Navigation with Theme Switcher -->
  <header class="border-b border-gray-100 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 sticky top-0 z-10 transition-colors">
    <div class="max-w-4xl mx-auto px-6 py-6">
      <nav class="flex items-center justify-between">
        <div>
          <a href="/" class="text-base sm:text-xl font-semibold text-gray-900 dark:text-white hover:text-gray-700 dark:hover:text-gray-300 transition-colors mr-4 sm:mr-0">
            a developer blog
          </a>
        </div>
        <div class="flex items-center space-x-6">
          <a href="/" class="text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">Home</a>
          <a href="https://gaborkoos.com" class="text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">About</a>
          <a href="/categories" class="text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">Categories</a>
          <a href="/feed.xml" class="text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">RSS</a>
          <!-- Theme Switcher Button -->
          <button id="theme-toggle" aria-label="Toggle dark mode" class="ml-4 p-2 rounded focus:outline-none bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 transition-colors" style="display:inline-block;">
            <span id="theme-toggle-light" style="display:none">ðŸŒž</span>
            <span id="theme-toggle-dark" style="display:none">ðŸŒ™</span>
          </button>
        </div>
      </nav>
    </div>
  </header>


  <main class="max-w-4xl mx-auto px-6 py-12 transition-colors">
  <div class="prose prose-lg prose-gray dark:prose-invert max-w-none">
    
<article>
  <h1 class="text-3xl font-bold mb-4">Matched Betting Arithmetics</h1>
  <div class="flex items-center space-x-4 text-sm text-gray-500 mb-6">
    <time datetime="2017-02-01T00:00:00.000Z">Wed Feb 01 2017</time>
    
    
      <span class="text-gray-300">â€¢</span>
      <div class="flex flex-wrap gap-2">
        
          <div class="flex items-center rounded-full bg-teal-500 text-white dark:bg-teal-400/10 dark:text-teal-300 px-3 py-1 text-xs font-medium leading-5">mathematics</div>
        
          <div class="flex items-center rounded-full bg-teal-500 text-white dark:bg-teal-400/10 dark:text-teal-300 px-3 py-1 text-xs font-medium leading-5">matched betting</div>
        
      </div>
    
  </div>
  <div class="prose dark:prose-invert max-w-none">
    <p>Matched betting is a strategy that uses simple maths to extract risk-free profits from free bets and bonuses offered by bookmakers. One of core principles of matched betting is that risk is removed by ensuring that whatever the outcome of the match you get the same return, thus removing the 'gambling' from the betting. This is achieved by covering all the possible outcomes of an event, in it's simplest form by <em>laying</em> your <em>back</em> bet with a betting exchange. Let's see the maths!</p>
<h3 id="back-and-lay-bets" tabindex="-1"><a class="header-anchor" href="#back-and-lay-bets">Back and Lay Bets</a></h3>
<p>A <em>back</em> bet is where we bet that something will happen, like betting that Chelsea will win the Premier League. A <em>lay</em> bet is where we bet that something wonâ€™t happen, like betting that Chelsea wonâ€™t win the Premier League.
Whenever a punter goes to a bookmaker to place a bet, they are placing a back bet and the bookmaker is laying their bet.</p>
<h3 id="betting-exchanges" tabindex="-1"><a class="header-anchor" href="#betting-exchanges">Betting Exchanges</a></h3>
<p>At a <em>betting exchange</em>, users bet against each other. This means that we can be either the backer or the layer, so we can use betting exchanges to lay our back bet we laid at the bookie.
Betting exchanges make profit by charging a small commission fee for all winning bets. The commission is 5% at Betfair and 2% at Smarkets etc.</p>
<h2 id="calculations" tabindex="-1"><a class="header-anchor" href="#calculations">Calculations</a></h2>
<p>The problem needs to be solved for matched betting is as follows: given the back and lay odds of an event and our stake at the bookmaker, how much do we lay at the exchange to gain the same profit either the back bet wins or loses?</p>
<h3 id="decimal-odds" tabindex="-1"><a class="header-anchor" href="#decimal-odds">Decimal odds</a></h3>
<p>There are different forms of odds like fractions, decimal or American etc. For matched betting the decimal format is universally used as it makes the calculations easier.
The formula for decimal odds is:</p>
<p>Your Stake x Odds = Payout</p>
<p>Say you are backing Manchester United and Man Uâ€™s decimal odds to win are 1.82, if you wagered Â£100 your potential return on your bet would be Â£182. Remember that this counts your original stake of 100 pounds, so your net profit on a winning bet would be Â£82.</p>
<h3 id="denotations" tabindex="-1"><a class="header-anchor" href="#denotations">Denotations</a></h3>
<p><em>o<sub>1</sub></em> denotes the decimal back odds of an event at a bookmaker and <em>o<sub>2</sub></em> is the decimal lay odds of the same event at a betting exchange where the commission is <em>c</em> (<em>100 c</em> in percentages). We lay <em>b<sub>2</sub></em> bet in the exchange and want to make the same profit either the back or the lay bet wins.</p>
<p>There are different types of bonuses, these are the four most common ones:</p>
<h3 id="qualifying-%2F-arbing-bet" tabindex="-1"><a class="header-anchor" href="#qualifying-%2F-arbing-bet">Qualifying / Arbing Bet</a></h3>
<p>Here the bettor bets with his own money with both the bookie and the exchange. Most of the times such a bet is needed to release the bonus from the bookmaker. Another use of this formula is <em>arbing</em> or arbitrage betting, where the odds differences provided by bookmakers guarantee sure profit regardless the outcome of the event. The table below breaks down how much we win or lose in each case at the bookie and the exchange:</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Bookie</strong></th>
<th><strong>Exchange</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Back Bet wins</strong></td>
<td><em>+ b<sub>1</sub> (o<sub>1</sub> - 1)</em></td>
<td><em>- b<sub>2</sub> (o<sub>2</sub> - 1)</em></td>
</tr>
<tr>
<td><strong>Lay Bet Wins</strong></td>
<td><em>- b<sub>1</sub></em></td>
<td><em>+ b<sub>2</sub> (1 - c)</em></td>
</tr>
</tbody>
</table>
<p>Thus the equation is</p>
<p><em>b<sub>1</sub> (o<sub>1</sub> - 1) - b<sub>2</sub> (o<sub>2</sub> - 1) = b<sub>2</sub> (1 - c) - b<sub>1</sub></em></p>
<p>Solving it</p>
<p><em><strong>b<sub>2</sub> = b<sub>1</sub> o<sub>1</sub> / (o<sub>2</sub> - c)</strong></em></p>
<p>So this will be our lay stake.</p>
<hr>
<h3 id="stake-no-return-(snr)-bet" tabindex="-1"><a class="header-anchor" href="#stake-no-return-(snr)-bet">Stake No Return (SNR) Bet</a></h3>
<p>Here the bookmaker gives <em>b<sub>1</sub></em> free money to bet, however the stake is not returned with any winnings. The table of the detailed profit breakdown is:</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Bookie</strong></th>
<th><strong>Exchange</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Back Bet wins</strong></td>
<td><em>+ b<sub>1</sub> (o<sub>1</sub> - 1)</em></td>
<td><em>- b<sub>2</sub> (o<sub>2</sub> - 1)</em></td>
</tr>
<tr>
<td><strong>Lay Bet Wins</strong></td>
<td><em>0</em></td>
<td><em>+ b<sub>2</sub> (1 - c)</em></td>
</tr>
</tbody>
</table>
<p>The equation is</p>
<p><em>b<sub>1</sub> (o<sub>1</sub> - 1) - b<sub>2</sub> (o<sub>2</sub> - 1) = b<sub>2</sub> (1 - c)</em></p>
<p>Solving:</p>
<p><em><strong>b<sub>2</sub> = b<sub>1</sub> (o<sub>1</sub> - 1) / (o<sub>2</sub> - c)</strong></em></p>
<hr>
<h3 id="stake-return-(sr)-bet" tabindex="-1"><a class="header-anchor" href="#stake-return-(sr)-bet">Stake Return (SR) Bet</a></h3>
<p>Here again <em>b<sub>1</sub></em> free bonus is given but now it includes its stake in potential winnings. At first it sounds better than the SNR bonus, however such bonuses usually have minimum wagering requirements, making them more difficult to withdraw.</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Bookie</strong></th>
<th><strong>Exchange</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Back Bet wins</strong></td>
<td><em>+ b<sub>1</sub> o<sub>1</sub></em></td>
<td><em>- b<sub>2</sub> (o<sub>2</sub> - 1)</em></td>
</tr>
<tr>
<td><strong>Lay Bet Wins</strong></td>
<td><em>0</em></td>
<td><em>+ b<sub>2</sub> (1 - c)</em></td>
</tr>
</tbody>
</table>
<p>The equation:</p>
<p><em>b<sub>1</sub> (o<sub>1</sub> - 1) - b<sub>2</sub> (o<sub>2</sub> - 1) = b<sub>2</sub> (1 - c)</em></p>
<p>And the solution is</p>
<p><em><strong>b<sub>2</sub> = b<sub>1</sub> o<sub>1</sub> / (o<sub>2</sub> - c)</strong></em></p>
<p>(Note that it is exactly the same as the Qualifying bet.)</p>
<hr>
<h3 id="risk-free-bet" tabindex="-1"><a class="header-anchor" href="#risk-free-bet">Risk Free Bet</a></h3>
<p>In this case, if we lose the back bet at the bookmaker, we get <em>f</em> worth of free bet. If we win, no bonus is added. Assuming we can extract <em>r f</em> of the bonus with a subsequent bet, the profit breakdown is as follows:</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Bookie</strong></th>
<th><strong>Exchange</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Back Bet wins</strong></td>
<td><em>+ b<sub>1</sub> o<sub>1</sub></em></td>
<td><em>- b<sub>2</sub> (o<sub>2</sub> - 1)</em></td>
</tr>
<tr>
<td><strong>Lay Bet Wins</strong></td>
<td><em>- b<sub>1</sub> + f r</em></td>
<td><em>+ b<sub>2</sub> (1 - c)</em></td>
</tr>
</tbody>
</table>
<p>The equation:</p>
<p><em>b<sub>1</sub> (o<sub>1</sub> - 1) - b<sub>2</sub> (o<sub>2</sub> - 1) = b<sub>2</sub> (1 - c) - b<sub>1</sub> + f r</em></p>
<p>Solving</p>
<p><em><strong>b<sub>2</sub> = (b<sub>1</sub> o<sub>1</sub> - f r) / (o<sub>2</sub> - c)</strong></em></p>
<hr>
<p>These formulas are used in the code of the <a href="https://github.com/gkoos/totaliser"><em>totaliser</em></a>.</p>

  </div>
</article>

  </div>
  </main>

  <!-- Footer -->
  <footer class="border-t border-gray-100 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 mt-20 transition-colors">
    <div class="max-w-4xl mx-auto px-6 py-12">
      <div class="text-center text-sm text-gray-600 dark:text-gray-300">
        <p>&copy; <span id="footer-year"></span> Gabor Koos</p>
      </div>
    </div>
  </footer>
  <!-- Theme Switcher Script -->
  <script>
    // Footer year
    document.getElementById('footer-year').textContent = new Date().getFullYear();
    // Theme switcher logic
    const root = document.documentElement;
    const themeToggle = document.getElementById('theme-toggle');
    const lightIcon = document.getElementById('theme-toggle-light');
    const darkIcon = document.getElementById('theme-toggle-dark');
    function setTheme(mode) {
      if (mode === 'dark') {
        root.classList.add('dark');
        localStorage.setItem('theme', 'dark');
        darkIcon.style.display = 'none';
        lightIcon.style.display = '';
      } else {
        root.classList.remove('dark');
        localStorage.setItem('theme', 'light');
        darkIcon.style.display = '';
        lightIcon.style.display = 'none';
      }
    }
    // Initial theme
    const userTheme = localStorage.getItem('theme');
    const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (userTheme === 'dark' || (!userTheme && systemDark)) {
      setTheme('dark');
    } else {
      setTheme('light');
    }
    // Button is always visible; only icons are toggled
    themeToggle.addEventListener('click', () => {
    if (root.classList.contains('dark')) {
      setTheme('light');
    } else {
      setTheme('dark');
    }
    });
  </script>
</body>

<script>
document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('pre code').forEach(function (codeBlock) {
    var pre = codeBlock.parentNode;
    pre.style.position = 'relative';
    pre.style.overflow = 'auto';

    var button = document.createElement('button');
    button.className = 'copy-btn';
    button.type = 'button';
    button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>';
    button.style = 'position:absolute;top:0.2em;right:0.2em;padding:0.05em 0.05em;width:1.2em;height:1.2em;display:flex;align-items:center;justify-content:center;background:#eee;border-radius:0.2em;border:none;cursor:pointer;z-index:1;opacity:0.7;box-shadow:0 2px 8px rgba(0,0,0,0.08);transition:opacity 0.2s;pointer-events:auto;';
    button.onmouseenter = function() { button.style.opacity = '1'; };
    button.onmouseleave = function() { button.style.opacity = '0.7'; };
    pre.appendChild(button);
    button.addEventListener('click', function () {
      navigator.clipboard.writeText(codeBlock.innerText);
      var original = button.innerHTML;
      button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#16a34a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>';
      setTimeout(function () {
        button.innerHTML = original;
      }, 1200);
    });
  });
});
</script>

</body>
</html>
